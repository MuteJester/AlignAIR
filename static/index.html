<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlignAIRR</title>
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
</head>

<body>
    <div class="navbar">
        <a href="/static/index.html">Single Sequence Analysis</a>
        <a href="/static/bulk_sequence_prediction.html">Bulk Sequence Prediction</a>
    </div>
<div class="dropdowns-row">
    <div class="container">
        <label style="display: flex" for="v_allele_select" class="allele_selection_label">Choose V Allele</label>
        <select id="v_allele_select" onchange="fetch_sequence()">
            <optgroup label="Category 1">
                <option>Option 1.1</option>
                <option>Option 1.2</option>
                <!-- ... -->
            </optgroup>
            <optgroup label="Category 2">
                <option>Option 2.1</option>
                <option>Option 2.2</option>
                <!-- ... -->
            </optgroup>
            <!-- ... -->
        </select>


    </div>

    <div class="container">
        <label for="d_allele_select" class="allele_selection_label">Choose D Allele</label>
        <select id=d_allele_select onchange="fetch_sequence()">
            <optgroup label="Category 1">
                <option>Option 1.1</option>
                <option>Option 1.2</option>
                <!-- ... -->
            </optgroup>
            <optgroup label="Category 2">
                <option>Option 2.1</option>
                <option>Option 2.2</option>
                <!-- ... -->
            </optgroup>
            <!-- ... -->
        </select>


    </div>

    <div class="container">
        <label for="j_allele_select" class="allele_selection_label">Choose J Allele</label>
        <select id="j_allele_select" onchange="fetch_sequence()">
            <optgroup label="Category 1">
                <option>Option 1.1</option>
                <option>Option 1.2</option>
                <!-- ... -->
            </optgroup>
            <optgroup label="Category 2">
                <option>Option 2.1</option>
                <option>Option 2.2</option>
                <!-- ... -->
            </optgroup>
            <!-- ... -->
        </select>


    </div>
</div>
<hr>

<div class="sequence-section">
    <div class="sequence-container">
        <div class="sequence-title">Generated Sequence</div>
        <div id="sequence" contenteditable="true" oninput="update_sequence_info()">
            Edit this text...
        </div>
        <button class="predict-btn" onclick="predict_sequence()">Predict</button>
    </div>
    <!-- Legend -->
    <div class="legend">
        <div class="legend-item">
            <div class="color-square color1"></div>
            Mutations
        </div>
        <div class="legend-item">
            <div class="color-square color3"></div>
            Junction
        </div>
        <div class="legend-item">
            <div class="color-square color2"></div>
            V
        </div>
        <div class="legend-item">
            <div class="color-square color4"></div>
            D
        </div>
        <div class="legend-item">
            <div class="color-square color5"></div>
            J
        </div>
    </div>
</div>
<hr>


<div class="first-result-row" style="display: flex; justify-content: space-between; align-items: start;">
    <div class="table-container">
        <table id='data-table'>
            <thead>
            <tr>
                <th>.</th>
                <th>V Allele</th>
                <th>D Allele</th>
                <th>J Allele</th>
                <th>V Start</th>
                <th>V End</th>
                <th>D Start</th>
                <th>D End</th>
                <th>J Start</th>
                <th>J End</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="td-index">Ground Truth</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
            </tr>
            <tr>
                <td class="td-index">AlignAIRR Predicted</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
                <td contenteditable>-</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="barChart-container" style="flex: 1; margin-left: 20px;">
        <!-- You can add your scatterplot content here -->
        <canvas id="Top5Probas_barChart"></canvas>
    </div>
</div>
<hr>
<div class="second-result-row" style="display: flex; justify-content: space-between; align-items: start;">
    <div id="msaContainer" class="mseContainer"></div>
    <label class="remove_match_btn">
        <input type="checkbox" id="removeIdenticalColumns" onchange="toggleIdenticalColumns()"> Remove Matching<br>Bases
    </label>
    <div class="Vlatent-container" style="flex: 1; margin-left: 20px; background-color: white;">
        <canvas id="V-Latent"></canvas>
    </div>
</div>


</body>
<script src="/static/script.js"></script>

</html>